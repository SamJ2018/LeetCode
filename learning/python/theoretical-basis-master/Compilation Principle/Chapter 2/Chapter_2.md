## Chapter 2

### 2.1 词法语法分析基本概念

#### 字母表

- 字母表使一个有穷符号集合
  - 符号：字母、数字、标点符号、……
  - 例子：
    - ASCII字符集
    - Unicode字符集
- 字母表上的运算
  - 字母表的乘积
    - {0，1}*{a,b} = {0a,0b,1a,1b}
  - 字母表的n次幂
    - 长度为n的符号串构成的集合
  - 字母表的正闭包
    - 长度为正数的符号串的集合
  - 字母表的克林闭包
    - 任意符号串（长度可以为0）构成的集合
- 串
  - 串是字母表中符号的一个有穷序列
  - 串s 的长度就是指s中的符号的数目
  - 串上的运算------连接
    - 如果x和y是串，那么x和y的连接时把y附加到x后面而形成的串
  - 串s的n次幂：将n个s连接起来

### 2.2 文法定义

#### 文法的形式化定义

- G = （Vt,Vn,P,S)
  - Vt :终结符集合
    - 终结符是文法所定义的语言的基本符号，有时也称为token
  - Vn：非终结符集合
    - 非终结符是用来表示语法成分的基本符号
  - P：产生式集合
    - 产生式描述了将终结符和非终结符组合成串的方法
  - S：开始符号
    - 开始符号表示的是该文法中最大的语法成分
- 符号约定
  - 下述符号是终结符
    - 字母表中排在前面的小写字母，如a,b,c
    - 运算符
    - 标点符号
    - 数字
    - 粗体字符串
  - 下述符号是非终结符
    - 排在前面的大写字母
    - 大写字母S
    - 小写、斜体的名字
    - 代表程序构造的大写字母
  - 字母表中排在后面的大写字母表示文法符号
  - 字母表中排在后面的小写字母表示终结符号串
  - 小写希腊字母表示文法符号串
  - 除非特别说明，第一个产生式的左部就是开始符号

### 2.3 语言的定义

#### 推导和归约

- 直接推导就是用产生式的右部替换产生式的左部
- 归约是用产生使得左部替换产生式的右部
- 用推导和归约解决问题：有了文法，如何判定某一词串是否式该语言的句子？

#### 句型和句子

- 一个句型中既可以包含终结符，又可以包含非终结符，也可能是空串

#### 语言的形式化定义

- 由文法G的开始符号S推导出的所有句子构成的集合称为文法G生成的语言，记作L（G）。

### 2.4 文法的分类

#### 0型文法

- 无限制文法/短语结构文法
  - 产生式的左部至少包含一个非终结符

#### 1型文法

- 上下文有关文法
  - 产生式的左部符号的个数不能多于右部符号的个数

#### 2型文法

- 上下文无关文法
  - 产生式左部必须为非终结符

#### 3型文法

- 正则文法
  - 右线性文法：
    - 每一个产生式右部要么是终结符号串
  - 左线性文法：
  - 正则文法中产生式右部最多只有一个非终结符且在一边

#### 关系

- 逐级限制
- 逐级包含

### 2.5 CFG（上下文无关文法）的分析树

#### CFG的分析树

- 根节点的标号为文法开始符号
- 内部结点表示堆一个产生式的应用，该结点的标号是此左部产生。该结点的子结点的标号从左到右构成了产生式的右部
- 叶结点的标号既可以是非终结符，也可以是终结符。

#### 分析树是推导的图形化表示

#### （句型的）短语

- 给定一个句型，其分析树种的每一棵子树的边缘称为该句型的一个短语
  - 如果子树只有父子两代结点，那么这棵子树的边缘称为该句型的一个直接短语

#### 二义性文法

- 对于任意一个上下文无关文法，不存在一个算法，判定它是无二义性的；但能给出一组充分条件，满足这组充分条件的文法是无二义性的。

